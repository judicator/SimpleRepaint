// ===================================================================
// B9 Part Switch repaint
// ===================================================================

@PART[*]:HAS[~SR_Ignore[],~SR_RepaintType[]]:NEEDS[B9PartSwitch]:FOR[zzz_SimpleRepaint]
{
	%SR_RepaintType = B9PS
	%SR_MaterialMask1 = *
}

@PART[*]:HAS[~SR_Ignore[],#SR_RepaintType[B9PS],#SR_MaterialMask1[*]]:NEEDS[B9PartSwitch]:FOR[zzz_SimpleRepaint]
{
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SimpleRepaint
		switcherDescription = #LOC_SR_ColorVariant_title
		affectDragCubes = false
		affectFARVoxels = false
		switchInFlight = #$@SIMPLE_REPAINT_SETTINGS/RepaintInFlight$
		uiGroupName = SimpleRepaint
		uiGroupDisplayName = #LOC_SR_Repaint_UIGroup_title

		SUBTYPE
		{
			name = SR_Original
			title = #LOC_SR_Color_Original
			primaryColor = #C7C7C7
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_1/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_1/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_1/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_1/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_2/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_2/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_2/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_2/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_3/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_3/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_3/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_3/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_4/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_4/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_4/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_4/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_5/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_5/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_5/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_5/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_6/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_6/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_6/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_6/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_7/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_7/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_7/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_7/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_8/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_8/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_8/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_8/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_9/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_9/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_9/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_9/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_10/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_10/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_10/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_10/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_11/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_11/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_11/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_11/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_12/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_12/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_12/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_12/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_13/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_13/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_13/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_13/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_14/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_14/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_14/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_14/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_15/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_15/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_15/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_15/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_16/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_16/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_16/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_16/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_17/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_17/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_17/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_17/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_18/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_18/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_18/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_18/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_19/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_19/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_19/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_19/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_20/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_20/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_20/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_20/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_21/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_21/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_21/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_21/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_22/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_22/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_22/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_22/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_23/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_23/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_23/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_23/color$
				}
			}
		}
		SUBTYPE
		{
			name = #$@SIMPLE_REPAINT_COLORS/COLOR_24/name$
			title = #$@SIMPLE_REPAINT_COLORS/COLOR_24/title$
			primaryColor = #$@SIMPLE_REPAINT_COLORS/COLOR_24/color$
			MATERIAL
			{
				name = #$/SR_MaterialMask1$
				COLOR
				{
					color = #$@SIMPLE_REPAINT_COLORS/COLOR_24/color$
				}
			}
		}
	}
}
// Remove subtypes with empty colors
@PART[*]:HAS[~SR_Ignore[],@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SimpleRepaint]]]:NEEDS[B9PartSwitch]:FOR[zzz_SimpleRepaint]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SimpleRepaint]]
	{
		!SUBTYPE[NOT_USED],* {}
	}
}

// ===================================================================
// Clean-up
// ===================================================================
@PART[*]:HAS[#SR_RepaintType[*]]:AFTER[zzz_SimpleRepaint]
{
	!SR_Ignore = DELETE
	!SR_RepaintType = DELETE
	!SR_MaterialMask1 = DELETE
}
@PART[*]:HAS[#SR_Ignore[*]]:AFTER[zzz_SimpleRepaint]
{
	!SR_Ignore = DELETE
}
@PART[kerbalEVA*]:HAS[@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SimpleRepaint]]]:AFTER[zzz_SimpleRepaint]
{
	!MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SimpleRepaint]] {}
	!SR_Ignore = DELETE
	!SR_RepaintType = DELETE
	!SR_MaterialMask1 = DELETE
}
